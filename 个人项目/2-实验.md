全文索引的创建：
1)在创建表时创建全文索引
create table fulltext_test (
    id int(11) NOT NULL AUTO_INCREMENT,
    content text NOT NULL,
    tag varchar(255),
    PRIMARY KEY (id),
    FULLTEXT KEY content_tag_fulltext(content,tag)  // 创建联合全文索引列
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

测试全文索引
添加测试数据
创建测试表，插入测试数据
create table test (
    
id int(11) unsigned not null auto_increment,
    
content text not null,
    
primary key(id),
    
fulltext key content_index(content)
//该句为创建全文索引
) engine=MyISAM default charset=utf8;

insert into test (content) values ('a'),('b'),('c');  
insert into test (content) values ('aa'),('bb'),('cc');  

insert into test (content) values ('aaa'),('bbb'),('ccc');
insert into test (content) values ('aaaa'),('bbbb'),('cccc');

按照全文索引的使用语法执行下面查询：
select * from test where match(content) against('a');
select * from test where match(content) against('aa');
select * from test where match(content) against('aaa');
select * from test where match(content) against('aaaa');

MySQL中有最小搜索长度和最大搜索长度两个变量，搜索后得出的结果要在这两个值的区间内
使用全文索引时，测试表里至少要有四条以上的记录
其默认值可以通过下面的语句来查看：
show variables like '%ft%';
// MyISAM
ft_min_word_len = 4;
ft_max_word_len = 84;

// InnoDB
innodb_ft_min_token_size = 3;
innodb_ft_max_token_size = 84;
1
2
3
4
5
6
7
可以看到最小搜索长度 MyISAM 引擎下默认是 4，InnoDB 引擎下是 3，也即，MySQL 的全文索引只会对长度大于等于 4 或者 3 的词语建立索引，而刚刚搜索的只有 aaaa 的长度大于等于 4。


#### 本实验测试的是使用INNODB引擎来进行全文索引  
### 准备工作：  
##### 1.实验目标：  
- 查询文章中是否含有某个关键词；一系列文章出现某个关键词的次数  
- 查询文章的标题是否含有某个关键词  
##### 2.设置参数从而减少磁盘IO压力：  
SET GLOBAL sync_binlog=100;  
SET GLOBAL innodb_flush_log_at_trx_commit=2;  
##### 3.导入1kw条数据(1.57G)对全文索引进行测试  
数据来源：https://pan.baidu.com/s/1aaB1R3bkBGZRMEx0o6T61w  
##### 4.创建该测试所依据的文章表，其SQL语句如下：  
CREATE TABLE `article` (  
  `id` bigint(10) NOT NULL,  
  `url` varchar(1024) CHARACTER SET latin1 NOT NULL DEFAULT '',  
  `title` varchar(256) NOT NULL DEFAULT '',  
  `source` varchar(32) DEFAULT '' COMMENT '真实来源',  
  `keywords` varchar(32) DEFAULT NULL,  
  `publish_time` timestamp NULL DEFAULT NULL,  
  PRIMARY KEY (`id`),  
  KEY `title_idx` (`title`)  
) ENGINE=InnoDB  
##### 5.查看导入后的总数据量  
